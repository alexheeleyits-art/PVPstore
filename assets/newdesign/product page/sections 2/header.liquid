<div class="relative bg-white z-[60] border-b border-gray-100">
  <div class="max-w-7xl mx-auto px-4">
    <div class="flex items-center justify-between h-20">
      
      <!-- Logo -->
      <a href="/" class="flex-shrink-0 flex items-center gap-2 cursor-pointer text-decoration-none">
         <div class="bg-black text-white font-black text-xl w-10 h-10 flex items-center justify-center rounded-lg">
            VS
         </div>
         <div class="flex flex-col leading-none">
            <span class="font-black text-lg tracking-tight text-black">SWEET</span>
            <span class="font-bold text-sm text-gray-400 tracking-widest">SAVOURY</span>
         </div>
      </a>

      <!-- Desktop Nav -->
      <nav class="hidden md:flex items-center gap-8 h-full">
        {% for block in section.blocks %}
          <div class="relative h-full flex items-center group">
            <a href="{{ block.settings.url }}" class="flex items-center gap-1 font-bold text-sm tracking-wide uppercase transition-colors text-gray-600 hover:text-black">
              {{ block.settings.title }}
              {% if block.settings.menu != blank %}
                {% render 'icon-chevron-down' %}
              {% endif %}
            </a>
            
            <!-- Mega Menu (Simplified structure for Liquid) -->
            {% if block.settings.menu != blank %}
              <div class="absolute top-full left-0 w-[800px] -translate-x-1/4 bg-white border-b border-gray-100 shadow-xl border-t opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                 <div class="p-8 grid grid-cols-3 gap-6">
                    {% for link in linklists[block.settings.menu].links %}
                      <div>
                        <h4 class="font-bold mb-2">{{ link.title }}</h4>
                        <ul class="space-y-2">
                          {% for childlink in link.links %}
                            <li><a href="{{ childlink.url }}" class="text-sm text-gray-600 hover:text-black">{{ childlink.title }}</a></li>
                          {% endfor %}
                        </ul>
                      </div>
                    {% endfor %}
                 </div>
              </div>
            {% endif %}
          </div>
        {% endfor %}
      </nav>

      <!-- Icons -->
      <div class="flex items-center gap-6">
        <a href="/search" class="text-gray-600 hover:text-black">{% render 'icon-search' %}</a>
        <a href="/account" class="text-gray-600 hover:text-black hidden sm:block">{% render 'icon-user' %}</a>
        <a href="/cart" class="text-gray-600 hover:text-black relative">
          {% render 'icon-cart' %}
          <span class="absolute -top-2 -right-2 bg-black text-white text-[10px] font-bold w-4 h-4 flex items-center justify-center rounded-full">{{ cart.item_count }}</span>
        </a>
      </div>

    </div>
  </div>
</div>

{% schema %}
{
  "name": "Mega Header",
  "settings": [],
  "blocks": [
    {
      "type": "menu_item",
      "name": "Menu Item",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Link Title",
          "default": "Shop"
        },
        {
          "type": "url",
          "id": "url",
          "label": "Link URL"
        },
        {
          "type": "link_list",
          "id": "menu",
          "label": "Mega Menu Linklist"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Mega Header"
    }
  ]
}
{% endschema %}
